<!DOCTYPE html>
<html lang="ptbr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="tela_cadastro.css">
  <title>Tela de cadastro</title>
</head>

<body>
  <div id="pai" class="register-container">

    <h1>Cadastro</h1> 

    <label style="display: inline-block;" name="usuario" for="usuario">Tipo de usuário:</label>

    <select style="margin-bottom: 4%; margin-left: 6px ;margin-top: 10px; width: 30%;" name="usuario" id="select_usuario" onchange="mudar()">

      <option value="Tipo de usuário:" disabled selected>Tipo de usuário</option>
      <option value="Empresa">Empresa</option>
      <option value="Administrador">Administrador</option>
      <option value="Comum">Comum</option>
    </select>

    <div id="divcadastro">
      
    </div>
    <form class="register-form">
    
      <a class="jatemlogin" href="tela_loginSmartBIN.html">
        <span class="jatemlogin">Já tem um login? Entre aqui</span>
      </a>
      <!-- <button type="button" onclick="validarFormulario()">Cadastrar</button> -->
    </form>
    
  </div>

  <script>

    // Igual eu disse, se fosse uma função para validar só nesse formulário em especifico, provavelmente daria certo, mas ele dá um alert para verificar e em seguida já roda o innerHTML, porque ele sobrepõe o conteúdo inserido, é meio que automático

    // Não sei real, se essa lógica de usar innerHTML seja a mais correta.

    function mudar(){
      var select = select_usuario.value;
      
      if (select == 'Empresa'){
        divcadastro.innerHTML = `<form class="register-form">
          <label for="Nome">Nome:</label>
          <input type="text" id="inp_nome" name="nome"><br>
          
          <label for="CNPJ">CNPJ:</label>
          <input type="number" id="inp_cnpj" name="cnpj"><br>
          
          <label style="display: inline-block;" for="termoDeUso">Termos de uso</label>
          <input style="width: 5%; margin-top: 3%;" type="checkbox" id="termos" name="Termos de uso"><br>
  
          
          
          <button type="menu" style="width: 103%; margin-bottom: 3%; margin-top: 3%; border-radius: 5%;" onclick="adm(); validarFormulario()">Cadastrar</button>
          </form>
          `;
  
      }else if (select == 'Administrador'){
        divcadastro.innerHTML = `<form class="register-form">
        <label for="Nome">Nome:</label>
        <input type="text" id="inp_nome" name="nome"><br>
  
        <label for="CPF">CPF:</label>
        <input type="number" id="inp_cpf" name="cpf"><br>
  
        <label for="CPF">CNPJ:</label>
        <input type="number" id="inp_cnpj" name="cnpj"><br>
  
        <label for="email">Email:</label>
        <input type="email" id="inp_email" name="email"><br>
  
        <label for="senha">Senha:</label>
        <input type="password" id="inp_password" name="senha"><br>
  
        <label for="telefone">Telefone:</label>
        <input type="number" id="inp_tel" name="telefone"><br>
  
        <label for="dataNascimento">Data de nascimento:</label>
        <input type="date" id="inp_Data" name="dataNascimento"><br>
  
        <label style="display: inline-block;" for="termoDeUso">Termos de uso</label>
        <input style="width: 5%; margin-top: 3%;" type="checkbox" id="termos" name="Termos de uso"><br>
  
        <button  onclick="validarFormulario()"  type="submit" style="width: 103%; margin-bottom: 3%; margin-top: 3%; border-radius: 5%;" href="index.html">Cadastrar</button>`;
  
      }else if(select == 'comum'){
        divcadastro.innerHTML = `<form class="register-form">
        <label for="Nome">Nome:</label>
        <input type="text" id="inp_nome" name="nome"><br>
  
        <label for="CPF">CPF:</label>
        <input type="number" id="inp_cpf" name="cpf"><br>
  
        <label for="CPF">CNPJ:</label>
        <input type="number" id="inp_cnpj" name="cnpj"><br>
  
        <label for="email">Email:</label>
        <input type="email" id="inp_email" name="email"><br>
  
        <label for="senha">Senha:</label>
        <input type="password" id="inp_password" name="senha"><br>
  
        <label for="telefone">Telefone:</label>
        <input type="number" id="inp_tel" name="telefone"><br>
  
        <label for="dataNascimento">Data de nascimento:</label>
        <input type="date" id="inp_Data" name="dataNascimento"><br>
  
        <label style="display: inline-block;" for="termoDeUso">Termos de uso</label>
        <input style="width: 5%; margin-top: 3%;" type="checkbox" id="termos" name="Termos de uso"><br>
  
        <button onclick="validarFormulario()"   type="submit" style="width: 103%; margin-bottom: 3%; margin-top: 3%; border-radius: 5%;" href="index.html">Cadastrar</button>`;
      }
    }
  
    function adm(){
      pai.innerHTML = `<h1>Cadastro de Administrador</h1> 
  
  <div id="divcadastro">
      <form class="register-form">
  <label for="Nome">Nome:</label>
  <input type="text" id="inp_nome" name="nome"><br>
  
  <label for="CPF">CPF:</label>
  <input type="number" id="inp_cpf" name="cpf"><br>
  
  <label for="CPF">CNPJ:</label>
  <input type="number" id="inp_cnpj" name="cnpj"><br>
  
  <label for="email">Email:</label>
  <input type="email" id="inp_email" name="email"><br>
  
  <label for="senha">Senha:</label>
  <input type="password" id="inp_password" name="senha"><br>
  
  <label for="telefone">Telefone:</label>
  <input type="number" id="inp_tel" name="telefone"><br>
  
  <label for="dataNascimento">Data de nascimento:</label>
  <input type="date" id="inp_Data" name="dataNascimento"><br>
  
  <label style="display: inline-block;" for="termoDeUso">Termos de uso</label>
  <input style="width: 5%; margin-top: 3%;" type="checkbox" id="termos" name="Termos de uso"><br>
  
  <button  onclick="validarFormulario()"  type="submit" style="width: 103%; margin-bottom: 3%; margin-top: 3%; border-radius: 5%;" href="index.html">Cadastrar</button>
  </div>
  </form>
  `;
    }

    function validarFormulario() {
      var inputNome = inp_nome.value;
      var inputCpf = Number(inp_cpf.value);
      var inputCnpj = Number(inp_cnpj.value);
      var inputEmail = inp_email.value;
      var inputPassword = Number(inp_password.value);
      var inputTel = Number(inp_tel.value);
      var inputData = Number(inp_Data.value);
      var termosCheckbox = document.getElementById("termos");

      // Trim() verifica sem tem espaços vazios, na teoria ele é mais útil que o if (inputNome == ""), porque ele é uma função especifica pra isso

      // O IsNaN é auto-explicativo, ele vai verificar se o valor é realmente número, eu coloquei Number(****), mas isso deve ser mais direto no objetivo



      if (inputNome.trim() === "" || isNaN(Number(inputCpf)) || isNaN(Number(inputCnpj)) || inputEmail.trim() === "" || inputPassword.trim() === "" || isNaN(Number(inputTel)) || inputData.trim() === "" || !termosCheckbox.checked) {
          alert("Por favor, preencha todos os campos corretamente e aceite os termos de uso.");
          return false; 
      }

      alert("Formulário enviado com sucesso!");
      return true;
  }
  </script>
</body>

</html>
